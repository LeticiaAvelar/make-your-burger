"use strict";(self["webpackChunk_03_make_your_burger"]=self["webpackChunk_03_make_your_burger"]||[]).push([[873],{873:function(e,a,t){t.r(a),t.d(a,{default:function(){return g}});var l=t(6768),n=t(5130),u=t(4232),s=t(144),i=t(2993);const o={id:"burger-table"},d={class:"burger-table-row"},c={class:"order-number"},r=["onChange"],v=["value","selected"],k=["onClick"];var p={__name:"Dashboard",setup(e){const a=(0,s.KR)([]),t=((0,s.KR)(null),(0,s.KR)([])),p=(0,s.KR)(null);async function b(){const e=await fetch("http://localhost:3000/burgers"),t=await e.json();a.value=t,h()}async function h(){const e=await fetch("http://localhost:3000/status"),a=await e.json();t.value=a}async function L(e){const a=await fetch(`http://localhost:3000/burgers/${e}`,{method:"DELETE"}),t=await a.json();p.value=`Pedido N° ${t.id} removido com sucesso!`,setTimeout(()=>p.value="",5e3),b()}async function _(e,a){const t=e.target.value,l=JSON.stringify({status:t}),n=await fetch(`http://localhost:3000/burgers/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:l}),u=await n.json();p.value=`Pedido N° ${u.id} foi atualizado para ${u.status}!`,setTimeout(()=>p.value="",5e3)}return(0,l.sV)(()=>{b()}),(e,s)=>((0,l.uX)(),(0,l.CE)("div",o,[(0,l.bo)((0,l.bF)(i.A,{msg:p.value},null,8,["msg"]),[[n.aG,p.value]]),s[1]||(s[1]=(0,l.Lk)("div",null,[(0,l.Lk)("div",{id:"burger-table-heading"},[(0,l.Lk)("div",{class:"order-id"},"#:"),(0,l.Lk)("div",null,"Cliente:"),(0,l.Lk)("div",null,"Pão:"),(0,l.Lk)("div",null,"Carne:"),(0,l.Lk)("div",null,"Opcionais:"),(0,l.Lk)("div",null,"Ações:")])],-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.value,e=>((0,l.uX)(),(0,l.CE)("div",{id:"burger-table-rows",key:e.id},[(0,l.Lk)("div",d,[(0,l.Lk)("div",c,(0,u.v_)(e.id),1),(0,l.Lk)("div",null,(0,u.v_)(e.nome),1),(0,l.Lk)("div",null,(0,u.v_)(e.pao),1),(0,l.Lk)("div",null,(0,u.v_)(e.carne),1),(0,l.Lk)("div",null,[(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.opcionais,(e,a)=>((0,l.uX)(),(0,l.CE)("li",{key:a},(0,u.v_)(e),1))),128))])]),(0,l.Lk)("div",null,[(0,l.Lk)("select",{name:"status",class:"status",onChange:a=>_(a,e.id)},[s[0]||(s[0]=(0,l.Lk)("option",{value:""},"Selecione",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.value,a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.tipo,selected:e.status==a.tipo},(0,u.v_)(a.tipo),9,v))),128))],40,r),(0,l.Lk)("button",{class:"delete-btn",onClick:a=>L(e.id)},"Cancelar",8,k)])])]))),128))]))}},b=t(1241);const h=(0,b.A)(p,[["__scopeId","data-v-a3dedf38"]]);var L=h;const _={class:"main-container"};var C={__name:"Pedidos",setup(e){return(e,a)=>((0,l.uX)(),(0,l.CE)("div",_,[a[0]||(a[0]=(0,l.Lk)("h1",null,"Gerenciar Pedidos:",-1)),(0,l.bF)(L)]))}};const f=C;var g=f}}]);
//# sourceMappingURL=873.9b396ff5.js.map